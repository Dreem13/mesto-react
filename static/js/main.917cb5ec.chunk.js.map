{"version":3,"sources":["utils/api.js","images/logo_w.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","url","token","this","_url","_token","result","ok","json","Promise","reject","status","fetch","method","headers","authorization","then","_checkStatus","name","about","body","JSON","stringify","link","avatar","cardId","isLiked","removeLike","addLike","Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","type","onClick","onCardLike","length","onCardDelete","Main","onEditAvatar","onEditProfile","aria-label","onAddPlace","cards","map","onCardClick","Footer","Date","getFullYear","PopupWithForm","isOpen","onClose","title","action","onSubmit","id","autoComplete","noValidate","children","placeholder","ImagePopup","EditProfilePopup","useEffect","setName","setDescription","useState","description","e","preventDefault","onUpdateUser","value","onChange","target","required","minLength","maxLength","EditAvatarPopup","refAvatar","useRef","onUpdateAvatar","current","ref","AddPlacePopup","console","log","setLink","App","setCards","getCards","res","catch","error","setCurrentUser","getUserInfo","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","closeAllPopups","Provider","cardData","like","newCard","c","deleteCard","filter","data","setUserInfo","setNewCard","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.917cb5ec.chunk.js","sourcesContent":["class Api {\n  constructor({ url, token }) {\n    this._url = url;\n    this._token = token;\n  }\n\n  _checkStatus(result) {\n    if (result.ok) {\n      return result.json();\n    } else {\n      return Promise.reject(`Ошибка: ${result.status}`)\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  setUserInfo({ name, about }) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name, about\n      })\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  getCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  setNewCard({ name, link }) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  updateAvatar(avatar) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ avatar: avatar })\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  addLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  like(cardId, isLiked) {\n    return isLiked ? this.removeLike(cardId) : this.addLike(cardId);\n  }\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-24',\n  token: '8c6e6a0b-c97b-41fa-9ce9-e79b26e708e8'\n});\n\nexport default api;\n\n\n\n","export default __webpack_public_path__ + \"static/media/logo_w.1f1e9591.svg\";","import logo from '../images/logo_w.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <a className=\"header__logo\"><img src={logo} alt=\"Логотип портала Место\" /></a>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // определение своей карточки\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  // для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    `elements__remove-button ${isOwn ? '' : 'elements__remove-button_hidden'}`\r\n  );\r\n  // определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  // // для кнопки лайка\r\n  const cardLikeButtonClassName = (`elements__like-button ${isLiked ? 'elements__like-button_active' : ' '}`);\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"elements__card\">\r\n      <img className=\"elements__image\" src={props.card.link} alt={`фотография ${props.card.name}`} />\r\n      <div className=\"elements__title-wrapper\">\r\n        <h2 className=\"elements__title\">{props.card.name}</h2>\r\n        <div className=\"elements__like\">\r\n          <button type=\"button\" className={`${cardLikeButtonClassName}`} onClick={handleLikeClick}></button>\r\n          <span className=\"elements__total-like\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n      <button className={`${cardDeleteButtonClassName}`} onClick={handleDeleteClick}></button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card.js';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <button type=\"button\" className=\"profile__avatar-button\" onClick={props.onEditAvatar} />\r\n        <div className=\"profile__info\">\r\n          <img className=\"profile__info-img\" src={currentUser.avatar} alt=\"Фотография пользователя\" />\r\n          <div className=\"profile__info-text\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n            <button className=\"profile__info-text-button\" type=\"button\" onClick={props.onEditProfile} aria-label=\"Изменение данных пользователя\" />\r\n          </div>\r\n        </div>\r\n        <button className=\"profile__button\" type=\"button\" onClick={props.onAddPlace} aria-label=\"Добавление новой карточки\" />\r\n      </section>\r\n      <div className=\"elements\">\r\n        {props.cards.map((card) => (<Card key={card._id} card={card} onClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />))}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","function PopupWithForm(props) {\r\n\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_open' : ''}`}>\r\n      <div className=\"popup__overlay\" onClick={props.onClose} />\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close\" type=\"button\" title=\"Закрыть окно\" aria-label=\"Закрыть форму\" onClick={props.onClose} />\r\n        <form action=\"action\" className=\"popup__form\" onSubmit={props.onSubmit} name={props.name} id={`${props.name}-form`} autoComplete=\"off\" noValidate>\r\n          <fieldset className=\"popup__field\">\r\n            <legend className=\"popup__header\">{props.title}</legend>\r\n            {props.children}\r\n            <button className=\"popup__btn popup__btn_save\" type=\"submit\" aria-label=\"Кнопка сохранить\">{props.placeholder}</button>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","function ImagePopup(props) {\r\n\r\n  return (\r\n    <div className={`popup ${props.card && 'popup_open'}`}>\r\n      <div className=\"popup__overlay\" onClick={props.onClose} />\r\n      <div className=\"popup__figure-container\">\r\n        <figure className=\"popup__figure\">\r\n          <img className=\"popup__image\" src={props.card && props.card.link} alt={`картинка ${props.card && props.card.name}`} />\r\n          <figcaption className={props.card && props.card.name}></figcaption>\r\n        </figure>\r\n        <button type=\"button\" className=\"popup__close popup__close_image\" onClick={props.onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  const handleChangeName = (e) => {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  const hanldeChangeDescription = (e) => {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" placeholder=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <div className=\"popup__input-container\">\r\n        <input className=\"popup__input popup__input_field_name\" type=\"text\" name=\"username\" value={name} onChange={handleChangeName} required id=\"name-input\" placeholder=\"Имя пользователя\" minLength={2} maxLength={40} />\r\n        <span className=\"error\" id=\"name-input--error\" />\r\n      </div>\r\n      <div className=\"popup__input-container\">\r\n        <input className=\"popup__input popup__input_field_caption\" type=\"text\" placeholder=\"Профессия\" name=\"userjob\" value={description} onChange={hanldeChangeDescription} required id=\"work-input\" minLength={2} maxLength={200} />\r\n        <span className=\"error\" id=\"work-input--error\" />\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const refAvatar = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar(\r\n            refAvatar.current.value\r\n        );\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" placeholder=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input className=\"popup__input popup__input_title_avatar\" id=\"avatar-input\" type=\"url\" name=\"avatar\" ref={refAvatar} placeholder=\"Ссылка на аватар\" autoComplete=\"on\" required />\r\n            <span className=\"error span-avatar\" id=\"avatar-input--error\" />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup(props) {\r\n    console.log(props)\r\n    const [name, setName] = React.useState();\r\n    const [link, setLink] = React.useState();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onAddPlace({\r\n            name, link\r\n        })\r\n    }\r\n\r\n    function editName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function editLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} name=\"cards\" title=\"Новое место\" placeholder=\"Создать\" isOpen={props.isOpen} onClose={props.onClose}>\r\n            <div className=\"popup__input-container\">\r\n                <input className=\"popup__input popup__input_card_name\" value={name} onChange={editName} type=\"text\" placeholder=\"Название\" name=\"name\" required id=\"card-input\" minLength={2} maxLength={30} />\r\n                <span className=\"error\" id=\"card-input--error\" />\r\n            </div>\r\n            <div className=\"popup__input-container\">\r\n                <input className=\"popup__input popup__input_card_caption\" value={link} onChange={editLink} type=\"url\" placeholder=\"Ссылка на картинку\" name=\"link\" required id=\"url-input\" />\r\n                <span className=\"error\" id=\"url-input--error\" />\r\n            </div>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import api from '../utils/api.js';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\n\nfunction App() {\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getCards()\n      .then((res) => { setCards(res) })\n      .catch((error) => console.log(error))\n  }, []\n  );\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.like(card._id, isLiked).then((newCard) => {\n      setCards((cards) => cards.map((c) => c._id === card._id ? newCard : c));\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter((i) => i !== card));\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((res) => { setCurrentUser(res) })\n      .catch((error) => console.log(error))\n  }, []\n  );\n\n  function handleUpdateUser(data) {\n\n    api.setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => {\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  function handleUpdateAvatar(data) {\n\n    api.updateAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => {\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.setNewCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .then(() => {\n        setIsAddPlacePopupOpen(false)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const [selectedCard, setSelectedCard] = React.useState(null);\n\n  function handleCardClick(cardData) {\n    setSelectedCard(cardData);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App body-background\">\n        <div className=\"page-container\">\n          <Header />\n          <Main\n            cards={cards}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Footer />\n\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n          <PopupWithForm name=\"delete\" title=\"Вы уверены?\" placeholder=\"Да\" />\n\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}